<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HYCDL8PC7Z"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-HYCDL8PC7Z', { 'anonymize_ip': true, 'allow_google_signals': true, 'send_page_view': true });
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script>
    (function () {
      try {
        var savedTheme = localStorage.getItem('theme');
        var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
          document.documentElement.classList.add('preload-dark');
        }
      } catch (e) {}
    })();
  </script>
  <title>Sagar Makar - Resume</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />

  <style>
    /* THEME VARIABLES */
    :root {
      --bg: #f5f5f5;
      --bg-elev: #ffffff;
      --bg-elev-2: #f0f0f0;
      --text: #1a1a1a;
      --muted: #555;
      --accent: #0d6efd;
      --accent-2: #0a58ca;
      --border: #ddd;
      --progress: #ff6b00; /* Light theme progress color */
      --toggle-bg: #000; /* Light mode toggle button color */
      --toggle-text: #fff;
    }

    body.dark, html.preload-dark body {
      --bg: #121212;
      --bg-elev: #1e1e1e;
      --bg-elev-2: #242424;
      --text: #e0e0e0;
      --muted: #bdbdbd;
      --accent: #0d6efd;
      --accent-2: #5a9bff;
      --border: #2e2e2e;
      --progress: #ffd700; /* Dark theme progress color */
      --toggle-bg: #fff; /* Dark mode toggle button color */
      --toggle-text: #000;
    }

    html { scroll-behavior: smooth; }
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }

    /* Dark/Light Mode Toggle */
    #themeToggle {
      position: absolute;
      top: 12px;
      right: 16px;
      background: var(--toggle-bg);
      color: var(--toggle-text);
      border: none;
      padding: 10px 14px;
      font-size: 1.6em;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s, color 0.3s, transform 0.2s;
      box-shadow: 0 3px 8px rgba(0,0,0,0.3);
    }
    #themeToggle:hover {
      transform: scale(1.1);
    }

    /* Progress bar container */
    #progressContainer {
      width: 100%;
      height: 4px;
      background: transparent;
      position: sticky;
      top: 0;
      z-index: 9999;
    }
    #progressBar {
      height: 4px;
      width: 0%;
      background: var(--progress);
      transition: background 0.3s;
    }

    /* Top Banner */
    header.hero {
      text-align: center;
      padding: 28px 16px 20px;
      background: linear-gradient(135deg, var(--accent-2), var(--accent));
      color: #fff;
      border-bottom: 4px solid var(--accent);
      position: relative;
    }
    header.hero h1 { margin: 0 0 6px; font-size: 32px; }
    header.hero p {
      margin: 8px 0 14px;
      font-size: 14px;
    }

    .avatar {
      max-width: 120px;
      border-radius: 50%;
      margin-top: 10px;
      border: 3px solid var(--accent);
      box-shadow: 0 6px 18px rgba(0,0,0,.35);
    }


    header.hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.25), transparent 36%),
                  radial-gradient(circle at 80% 0%, rgba(255,255,255,0.2), transparent 34%);
      pointer-events: none;
    }

    .resume-section {
      transition: background 0.3s, transform 0.2s ease, box-shadow 0.2s ease;
    }
    .resume-section:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 22px rgba(0,0,0,.12);
    }
    /* Contact Buttons */
    .contact-btn {
      display: inline-block;
      padding: 6px 10px;
      background: var(--accent);
      color: #fff;
      text-decoration: none;
      font-size: 12px;
      border-radius: 6px;
      margin: 4px 6px;
      transition: background 0.2s ease;
    }
    .contact-btn:hover { background: var(--accent-2); }

    /* Main Content */
    main.content {
      max-width: 1000px;
      margin: auto;
      padding: 24px;
    }
    .resume-section {
      background: var(--bg-elev);
      padding: 20px;
      border-radius: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,.08);
      margin: 22px 0;
      border: 1px solid var(--border);
      transition: background 0.3s;
    }
    .resume-section:hover { background: var(--bg-elev-2); }
    h2 {
      color: var(--accent);
      border-bottom: 2px solid var(--border);
      padding-bottom: 8px;
      margin-top: 0;
    }

    ul { list-style: none; padding: 0; margin: 12px 0 0; }
    ul li {
      background: var(--bg-elev-2);
      border-left: 4px solid var(--accent);
      padding: 10px 12px;
      border-radius: 10px;
      margin-bottom: 8px;
    }
    ul li:hover { background: var(--bg-elev); }

    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 10px;
      margin-top: 12px;
    }

    table { width: 100%; border-collapse: collapse; margin-top: 12px; }
    th, td { padding: 10px; text-align: left; border: 1px solid var(--border); }
    th { background: var(--accent); color: #fff; }

    .job-title { display: flex; justify-content: space-between; font-weight: 700; margin-top: 12px; }

    .quick-nav {
      position: sticky;
      top: 4px;
      z-index: 9998;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
      padding: 10px 12px;
      background: color-mix(in srgb, var(--bg-elev) 92%, transparent);
      backdrop-filter: blur(6px);
      border-bottom: 1px solid var(--border);
    }

    .quick-nav a {
      text-decoration: none;
      color: var(--text);
      border: 1px solid var(--border);
      background: var(--bg-elev);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 700;
      transition: transform 0.2s, background 0.2s;
    }
    .quick-nav a:hover {
      transform: translateY(-1px);
      background: var(--bg-elev-2);
    }

    .highlights-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin-top: 12px;
    }

    .highlight-card {
      text-align: center;
      background: linear-gradient(140deg, var(--bg-elev-2), var(--bg-elev));
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px;
    }
    .highlight-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 4px;
    }

    .filter-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }

    .filter-btn {
      background: var(--bg-elev-2);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 6px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 12px;
      font-weight: 700;
    }
    .filter-btn.active {
      background: var(--accent);
      color: #fff;
      border-color: transparent;
    }

    .journey details {
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 12px;
      margin-bottom: 8px;
      background: var(--bg-elev-2);
    }
    .journey summary {
      cursor: pointer;
      font-weight: 700;
      color: var(--accent);
    }

    .reveal {
      opacity: 0;
      transform: translateY(14px);
      transition: opacity 0.45s ease, transform 0.45s ease;
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }


    .recruiter-grid {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 14px;
      align-items: start;
    }
    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }
    .pill {
      background: var(--bg-elev-2);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 12px;
      font-weight: 700;
    }
    .recruiter-card {
      border: 1px solid var(--border);
      border-radius: 12px;
      background: var(--bg-elev-2);
      padding: 14px;
    }
    .cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }
    .mini-btn {
      border: 1px solid var(--border);
      background: var(--bg-elev);
      color: var(--text);
      padding: 7px 10px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      text-decoration: none;
    }
    .mini-btn:hover { background: var(--bg-elev-2); }
    .search-wrap { margin-top: 10px; }
    #impactSearch {
      width: 100%;
      max-width: 420px;
      border: 1px solid var(--border);
      background: var(--bg-elev-2);
      color: var(--text);
      border-radius: 8px;
      padding: 8px 10px;
    }
    #impactStats { font-size: 12px; color: var(--muted); margin-top: 8px; }

    .download-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      background: var(--accent);
      color: #fff;
      text-decoration: none;
      border-radius: 8px;
      font-size: 0.9em;
    }
    .download-btn:hover { background: var(--accent-2); }
    .download-btn img { max-width: 20px; }

    footer {
      text-align: center;
      padding: 10px;
      color: var(--muted);
      font-size: 12px;
      background: var(--bg-elev);
      border-top: 1px solid var(--border);
    }

    #backToTop {
      position: fixed;
      right: 14px;
      bottom: 16px;
      border: none;
      border-radius: 50%;
      width: 42px;
      height: 42px;
      font-size: 18px;
      color: #fff;
      background: var(--accent);
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
      cursor: pointer;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
    }
    #backToTop.show {
      opacity: 1;
      pointer-events: auto;
    }

    /* Responsive Tweaks */
    @media (max-width: 768px) {
      .recruiter-grid { grid-template-columns: 1fr; }
      header.hero h1 { font-size: 24px; }
      header.hero p { font-size: 13px; }
      .avatar { max-width: 90px; margin-top: 12px; }
      .contact-btn { font-size: 11px; padding: 6px 8px; margin: 3px 4px; }
      main.content { padding: 14px; }
      .resume-section { padding: 16px; margin: 14px 0; }
      .skills-grid { grid-template-columns: 1fr; }
      table { display: block; overflow-x: auto; white-space: nowrap; }
      #themeToggle { top: 8px; right: 8px; padding: 8px 10px; font-size: 1.4em; }
    }

    @media (max-width: 500px) {
      .skills-grid li { padding: 8px; font-size: 14px; }
    }
  </style>
</head>
<body>

  <!-- Top Banner -->
  <header class="hero">
    <button id="themeToggle" aria-label="Toggle theme">ðŸŒž</button>
    <h1>Sagar Makar</h1>
    <p>M.B.A. '26 (IIM Visakhapatnam)</p>
    <div>
      <a href="mailto:sagar.makar24-01@iimv.ac.in" class="contact-btn">Email</a>
      <a href="tel:+917673928580" class="contact-btn">Call</a>
      <a href="https://www.linkedin.com/in/sagarmakar" target="_blank" rel="noopener" class="contact-btn">LinkedIn</a>
    </div>
    <img class="avatar" src="Sagar_Makar_2410323.jpeg" alt="Sagar Makar" />
  </header>

  <!-- Progress Bar -->
  <div id="progressContainer">
    <div id="progressBar"></div>
  </div>

  <nav class="quick-nav" aria-label="Quick links">
    <a href="#about">About</a>
    <a href="#recruiter">Recruiter View</a>
    <a href="#highlights">Highlights</a>
    <a href="#work-experience">Experience</a>
    <a href="#projects">Projects</a>
    <a href="#skills">Skills</a>
    <a href="#journey">Journey</a>
    <a href="#download">Resume</a>
  </nav>

  <!-- Main Content -->
  <main class="content">
    <!-- ABOUT -->
    <section id="about" class="resume-section reveal">
      <h2>About</h2>
      <p>Tier-1 B-School postgraduate with strong foundations in finance, marketing, strategy, and operations. Proven track record in security, product development, GTM strategy, and leadership across corporate and startup environments. Passionate about leveraging data-driven decision-making and innovative thinking to deliver measurable business impact.</p>
    </section>


    <section id="recruiter" class="resume-section reveal">
      <h2>Recruiter Quick View</h2>
      <div class="recruiter-grid">
        <div>
          <p>MBA candidate with prior IBM security and product execution experience, strong analytics orientation, and proven outcomes across strategy, operations, and GTM.</p>
          <div class="pill-row">
            <span class="pill">Open to Summer Internship 2026</span>
            <span class="pill">Preferred: Strategy / Product / Ops</span>
            <span class="pill">Location: PAN India</span>
            <span class="pill">Notice: Immediate for internship roles</span>
          </div>
          <div class="search-wrap">
            <label for="impactSearch"><strong>Search achievements by keyword</strong></label><br />
            <input id="impactSearch" type="text" placeholder="Try: ROI, GTM, dashboard, valuation" aria-label="Search impact bullets" />
            <div id="impactStats">Showing all quantified achievements.</div>
          </div>
        </div>
        <aside class="recruiter-card">
          <h3 style="margin-top:0;">Contact & Resume</h3>
          <p style="margin:0 0 8px;">Email: <a href="mailto:sagar.makar24-01@iimv.ac.in">sagar.makar24-01@iimv.ac.in</a></p>
          <p style="margin:0 0 8px;">Phone: <a href="tel:+917673928580">+91 76739 28580</a></p>
          <div class="cta-row">
            <button class="mini-btn" id="copyEmailBtn" type="button">Copy Email</button>
            <a class="mini-btn" href="Sagar Makar_Master Resume (1).pdf" target="_blank" rel="noopener">Open Resume</a>
            <a class="mini-btn" href="https://www.linkedin.com/in/sagarmakar" target="_blank" rel="noopener">View LinkedIn</a>
          </div>
        </aside>
      </div>
    </section>

    <section id="highlights" class="resume-section reveal">
      <h2>Career Highlights</h2>
      <p>Interactive snapshot of impact delivered across roles.</p>
      <div class="highlights-grid">
        <article class="highlight-card">
          <div class="highlight-value" data-count="21">0</div>
          <div>Months of Experience</div>
        </article>
        <article class="highlight-card">
          <div class="highlight-value" data-count="70">0</div>
          <div>Team Members Led</div>
        </article>
        <article class="highlight-card">
          <div class="highlight-value" data-count="2600">0</div>
          <div>Hackathon Peers Competed With</div>
        </article>
        <article class="highlight-card">
          <div class="highlight-value" data-count="1500">0</div>
          <div>Fest Participants Managed</div>
        </article>
      </div>
    </section>

    <!-- EDUCATION -->
    <section id="education" class="resume-section reveal">
      <h2>Education</h2>
      <table>
        <thead>
          <tr><th>Degree</th><th>Institute</th><th>Score</th><th>Year</th></tr>
        </thead>
        <tbody>
          <tr><td>M.B.A.</td><td>Indian Institute of Management Visakhapatnam</td><td>3.38 / 4</td><td>2026</td></tr>
          <tr><td>B. Tech. (ECE)</td><td>NIIT University, Neemrana</td><td>7.97 / 10</td><td>2018 â€“ 2022</td></tr>
          <tr><td>TSBIE - 12th</td><td>Vijay Ratna Jr. College, Hyderabad</td><td>90.1 / 100</td><td>2018</td></tr>
          <tr><td>CBSE - 10th</td><td>Kendriya Vidyalaya No. 2, AFA Dundigal</td><td>9.8 / 10</td><td>2016</td></tr>
        </tbody>
      </table>
    </section>

    <!-- WORK EXPERIENCE -->
    <section id="work-experience" class="resume-section reveal">
      <h2>Work Experience (21 Months)</h2>
      <div class="job-title"><span>Security Specialist</span><span>IBM | Sep 2022 â€“ Jun 2024</span></div>
      <ul>
        <li>Awarded Best Asset (Q2 2023) for delivering 20% efficiency improvement by automating critical workflows.</li>
        <li>Finalist among 2,600+ peers in WatsonX Hackathon by building a Generative AI and LLM prototype with ROI potential.</li>
        <li>Mentored 5 interns with structured delegation and training, achieving 100% full-time conversion.</li>
        <li>Directed 3 full-cycle projects as point of contact for 10+ members and international clients.</li>
        <li>Reduced manual effort by 10% and errors by 30% via business product development and process redesign.</li>
        <li>Managed a 70+ member cross-functional team for international consulting execution.</li>
        <li>Improved team capacity by 50% through operations tools for structured reviews and risk mitigation.</li>
        <li>Delivered 25% ROI uplift via cost rationalisation and automation across 3 cross-border functions.</li>
        <li>Improved forecast accuracy by 20% and reduced reporting cycle by 35% using Excel, Tableau, and Power BI dashboards.</li>
      </ul>
    </section>

    <!-- INTERNSHIPS -->
    <section id="internships" class="resume-section reveal">
      <h2>Internships</h2>
      <div class="job-title"><span>Management Intern â€“ Founderâ€™s Office</span><span>LiquidMind.AI | Apr 2025 â€“ May 2025</span></div>
      <ul>
        <li>Drove 5.3x audience and 4.3x follower growth with 7x traffic uplift via MetaSuite, LinkedIn SEO, and multi-platform execution.</li>
        <li>Generated 60+ qualified leads in Week 1 through focused key-account outreach.</li>
        <li>Built 50+ frameworks spanning pricing, cost breakdowns, market analysis, and value propositions.</li>
        <li>Coordinated 5+ firms, 1 alliance, and 1 council across 6 priorities to improve capital efficiency.</li>
        <li>Executed TAM/SAM/SOM sizing, ramp projections, and built 2 GTM strategies for regional expansion.</li>
        <li>Onboarded 3 interns and spearheaded 3 product builds end-to-end from prototyping to testing.</li>
        <li>Aligned 6 business verticals and curated 11+ finance/strategy articles to support execution readiness.</li>
        <li>Led discussions across 9 business areas and collaborated directly with C-suite on feature and finance decisions.</li>
      </ul>
      <div class="job-title"><span>Cyber Security Intern</span><span>IBM | Jan 2022 â€“ Jul 2022</span></div>
      <ul>
        <li>Executed a strategic product innovation and was commended by leadership for measurable impact.</li>
        <li>Delivered &gt;90% business impact through automation scripting that reduced labor dependency.</li>
        <li>Engineered an automation product adopted by 2+ teams for full-time internal use.</li>
      </ul>
    </section>

    <!-- CERTIFICATIONS -->
    <section id="certifications" class="resume-section reveal">
      <h2>Certifications</h2>
      <ul>
        <li>Sales Advanced Badge (AI &amp; management proof-of-value engagements)</li>
        <li>Enterprise Design Thinking</li>
        <li>CFI Certification in Financial Statement Analysis</li>
      </ul>
    </section>


    <section id="projects" class="resume-section reveal">
      <h2>Live &amp; Academic Projects</h2>
      <div class="job-title"><span>IAPM &amp; CRVA</span><span>Jul 2025 â€“ Aug 2025</span></div>
      <ul>
        <li>Conducted valuation across 4 firms using FCF and multiples to design a risk-adjusted portfolio.</li>
        <li>Built an equity research report with DCF, relative valuation, and ratio-driven analysis.</li>
      </ul>
      <div class="job-title"><span>Research for Marketing Decisions</span><span>Nov 2024 â€“ Dec 2024</span></div>
      <ul>
        <li>Analyzed 230+ consumer responses using SPSS and AMOS, plus 2 FGDs and 8 interviews.</li>
        <li>Processed 30+ studies, tested 9 hypotheses, and identified key behavioral drivers.</li>
      </ul>
    </section>

    <!-- POSITIONS OF RESPONSIBILITY -->
    <section id="responsibilities" class="resume-section reveal">
      <h2>Positions of Responsibility</h2>
      <ul>
        <li>Selected among top 7% of 344 as Junior Placement Representative (2024â€“25), leading corporate outreach.</li>
        <li>Coordinated the second-year student club in B.Tech, organizing events and resource planning.</li>
      </ul>
    </section>

    <!-- SKILLS -->
    <section id="skills" class="resume-section reveal">
      <h2>Skills</h2>
      <div class="filter-row" aria-label="Skill filter controls">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="business">Business</button>
        <button class="filter-btn" data-filter="tech">Tech</button>
        <button class="filter-btn" data-filter="leadership">Leadership</button>
      </div>
      <ul class="skills-grid">
        <li data-category="business">Finance</li>
        <li data-category="business">Marketing</li>
        <li data-category="business">Strategy</li>
        <li data-category="business">Operations</li>
        <li data-category="leadership">Management</li>
        <li data-category="tech">Data Analysis</li>
        <li data-category="leadership">Project Management</li>
        <li data-category="leadership">Cross-Functional Leadership</li>
        <li data-category="tech">Cybersecurity</li>
        <li data-category="business">GTM Strategy</li>
        <li data-category="leadership">Stakeholder Management</li>
        <li data-category="tech">Process Automation</li>
      </ul>
    </section>

    <section id="journey" class="resume-section reveal journey">
      <h2>Career Journey</h2>
      <details open>
        <summary>2024â€“Present: MBA @ IIM Visakhapatnam</summary>
        <p>Focused on strategic decision making, leadership development, and high-impact case competitions.</p>
      </details>
      <details>
        <summary>2022â€“2024: Security Specialist @ IBM</summary>
        <p>Built automation tools, delivered enterprise security outcomes, and mentored interns into full-time roles.</p>
      </details>
      <details>
        <summary>2021â€“2022: Internships & Product Prototyping</summary>
        <p>Contributed to cybersecurity projects, dashboarding, and product-led experimentation in startup settings.</p>
      </details>
    </section>

    <!-- EXTRA-CURRICULAR -->
    <section id="extracurricular" class="resume-section reveal">
      <h2>Extra-Curricular Activities</h2>
      <ul>
        <li>Won War Room M&amp;A case competition (1st out of 371 teams) with valuation, synergy, and growth strategy.</li>
        <li>Secured 3rd out of ~640 teams in Ranneeti (operations simulation, IIM Raipur).</li>
        <li>Finished 3rd in finals and 7th in quiz at StrategiQ among 380 teams (IIM Raipur).</li>
        <li>Achieved 4th in finals and 7th in Round 1 at SKEIN among 368 teams (IIM Udaipur).</li>
        <li>Selected as 1 of 8 out of 240 peers to mentor juniors and coordinate academic/co-curricular initiatives.</li>
      </ul>
    </section>

    <!-- DOWNLOAD -->
    <section id="download" class="resume-section reveal">
      <h2>Download Resume</h2>
      <p>You can download my resume in PDF format:</p>
      <a href="Sagar Makar_Master Resume (1).pdf" class="download-btn" target="_blank" rel="noopener">
        <span aria-hidden="true">ðŸ“„</span> <span>Download PDF</span>
      </a>
    </section>
  </main>

  <button id="backToTop" aria-label="Scroll to top">â†‘</button>

  <!-- Footer -->
  <footer>
    Â© 2025 Sagar Makar. All rights reserved.
  </footer>

  <!-- Scripts -->
  <script>
    const backToTopBtn = document.getElementById('backToTop');

    // Scroll progress bar + back to top toggle
    window.addEventListener("scroll", function() {
      let winScroll = document.documentElement.scrollTop || document.body.scrollTop;
      let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      let scrolled = (winScroll / height) * 100;
      document.getElementById("progressBar").style.width = scrolled + "%";
      backToTopBtn.classList.toggle('show', winScroll > 320);
    });

    backToTopBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // Theme toggle
    const toggleBtn = document.getElementById('themeToggle');
    function updateToggleAppearance() {
      toggleBtn.style.background = getComputedStyle(document.body).getPropertyValue('--toggle-bg');
      toggleBtn.style.color = getComputedStyle(document.body).getPropertyValue('--toggle-text');
    }
    const prefersDarkMedia = window.matchMedia('(prefers-color-scheme: dark)');
    let storedTheme = null;
    try {
      storedTheme = localStorage.getItem('theme');
    } catch (e) {}

    function applyTheme(mode) {
      const isDark = mode === 'dark';
      document.body.classList.toggle('dark', isDark);
      document.documentElement.classList.toggle('preload-dark', isDark);
      toggleBtn.textContent = isDark ? 'ðŸŒž' : 'ðŸŒ™';
      updateToggleAppearance();
    }

    const initialTheme = storedTheme || (prefersDarkMedia.matches ? 'dark' : 'light');
    applyTheme(initialTheme);

    const syncSystemTheme = event => {
      let hasManualTheme = false;
      try {
        hasManualTheme = !!localStorage.getItem('theme');
      } catch (e) {}
      if (!hasManualTheme) {
        applyTheme(event.matches ? 'dark' : 'light');
      }
    };

    if (typeof prefersDarkMedia.addEventListener === 'function') {
      prefersDarkMedia.addEventListener('change', syncSystemTheme);
    } else if (typeof prefersDarkMedia.addListener === 'function') {
      prefersDarkMedia.addListener(syncSystemTheme);
    }

    toggleBtn.addEventListener('click', () => {
      const nextTheme = document.body.classList.contains('dark') ? 'light' : 'dark';
      applyTheme(nextTheme);
      try {
        localStorage.setItem('theme', nextTheme);
      } catch (e) {}
      if (typeof gtag === 'function') {
        gtag('event', 'theme_toggle', { theme: nextTheme });
      }
    });

    // Skill filters
    const filterButtons = document.querySelectorAll('.filter-btn');
    const skillItems = document.querySelectorAll('.skills-grid li');
    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        filterButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        const target = button.dataset.filter;

        skillItems.forEach(item => {
          const show = target === 'all' || item.dataset.category === target;
          item.style.display = show ? 'block' : 'none';
        });
      });
    });

    // Reveal animation
    const revealElements = document.querySelectorAll('.reveal');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.12 });
    revealElements.forEach(el => observer.observe(el));

    // Count up animation
    const counters = document.querySelectorAll('[data-count]');
    counters.forEach(counter => {
      const target = Number(counter.dataset.count);
      const step = Math.max(1, Math.floor(target / 35));
      let current = 0;
      const timer = setInterval(() => {
        current += step;
        if (current >= target) {
          current = target;
          clearInterval(timer);
        }
        counter.textContent = current.toLocaleString();
      }, 25);
    });

    // Copy email helper
    const copyEmailBtn = document.getElementById('copyEmailBtn');
    if (copyEmailBtn) {
      copyEmailBtn.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText('sagar.makar24-01@iimv.ac.in');
          copyEmailBtn.textContent = 'Email Copied âœ“';
          setTimeout(() => (copyEmailBtn.textContent = 'Copy Email'), 1400);
        } catch (err) {
          copyEmailBtn.textContent = 'Copy failed';
        }
      });
    }

    // Achievement search across impact bullets
    const searchInput = document.getElementById('impactSearch');
    const impactStats = document.getElementById('impactStats');
    const searchableBullets = document.querySelectorAll('#work-experience li, #internships li, #projects li, #extracurricular li');
    if (searchInput && impactStats) {
      const runSearch = () => {
        const query = searchInput.value.trim().toLowerCase();
        let shown = 0;
        searchableBullets.forEach(item => {
          const match = !query || item.textContent.toLowerCase().includes(query);
          item.style.display = match ? 'list-item' : 'none';
          if (match) shown += 1;
        });
        impactStats.textContent = query
          ? `Showing ${shown} matching achievements for "${query}".`
          : 'Showing all quantified achievements.';
      };
      searchInput.addEventListener('input', runSearch);
    }

    // Engagement analytics events
    const fireEvent = (name, params = {}) => {
      if (typeof gtag === 'function') {
        gtag('event', name, params);
      }
    };

    document.querySelectorAll('.quick-nav a, .contact-btn, .download-btn, .mini-btn').forEach(el => {
      el.addEventListener('click', () => {
        fireEvent('cta_click', {
          label: (el.textContent || '').trim(),
          target: el.getAttribute('href') || el.id || 'button'
        });
      });
    });

    let searchTimer;
    if (searchInput) {
      searchInput.addEventListener('input', () => {
        clearTimeout(searchTimer);
        const term = searchInput.value.trim();
        if (term.length < 3) return;
        searchTimer = setTimeout(() => {
          fireEvent('achievement_search', { term_length: term.length });
        }, 700);
      });
    }

    const scrollMilestones = new Set();
    window.addEventListener('scroll', () => {
      const scrollable = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      if (scrollable <= 0) return;
      const ratio = Math.round(((window.scrollY || document.documentElement.scrollTop) / scrollable) * 100);
      [25, 50, 75, 100].forEach(mark => {
        if (ratio >= mark && !scrollMilestones.has(mark)) {
          scrollMilestones.add(mark);
          fireEvent('scroll_depth', { percent_scrolled: mark });
        }
      });
    });

  </script>

</body>
</html>
